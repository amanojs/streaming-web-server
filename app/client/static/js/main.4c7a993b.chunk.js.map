{"version":3,"sources":["store/store.ts","config/theme.ts","components/Loading/index.tsx","components/CopyRoomIdButton/Presenter.tsx","components/CopyRoomIdButton/index.tsx","components/Header/Presenter.tsx","assets/Streaming-logo2.png","components/Header/index.tsx","config/route.tsx","App.tsx","reportWebVitals.ts","index.tsx","store/modules/roomModule.ts"],"names":["rootReducer","combineReducers","room","roomModule","reducer","theme","createMuiTheme","palette","primary","main","contrastText","secondary","info","background","default","typography","fontFamily","join","Loading","Box","display","justifyContent","alignItems","className","style","CircularProgress","size","color","Presenter","props","type","value","url","onChange","ref","inputRef","opacity","height","width","marginLeft","padding","border","Hidden","xsDown","Button","startIcon","Share","onClick","disableElevation","variant","borderRadius","smUp","IconButton","CopyRoomIdButton","React","location","href","urlInputRef","enqueueSnackbar","useSnackbar","console","log","current","select","document","execCommand","blur","anchorOrigin","horizontal","vertical","autoHideDuration","flexGrow","AppBar","position","Toolbar","edge","aria-label","backClick","ArrowLeftRounded","fontSize","src","marginRight","Header","history","useHistory","push","routebases","path","exact","name","component","Promise","all","resolve","setTimeout","then","Routes","fallback","map","routebase","makeRoute","App","useStateWithCallbackLazy","socket","setSocket","ThemeProvider","maxSnack","getSocket","client","io","connect","process","on","clearSocket","disconnect","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","middlewares","getDefaultMiddleware","logger","configureStore","middleware","setUpStore","ReactDOM","render","StrictMode","getElementById","roomInitialState","roomId","userName","isOwner","socketsModule","createSlice","initialState","reducers","setRoom","state","action","Object","assign","payload","unsetRoom"],"mappings":"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","file":"static/js/main.4c7a993b.chunk.js","sourcesContent":["import { combineReducers, configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport logger from 'redux-logger';\n\nimport roomModule, { RoomState } from './modules/roomModule';\n\nexport interface State {\n  room: RoomState;\n}\n\nconst rootReducer = combineReducers({\n  room: roomModule.reducer\n});\n\nexport const setUpStore = () => {\n  const middlewares = [...getDefaultMiddleware(), logger];\n  const store = configureStore({\n    reducer: rootReducer,\n    middleware: middlewares\n  });\n  return store;\n};\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nexport const theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#fff',\n      contrastText: '#555'\n    },\n    secondary: {\n      main: '#1dd1a1',\n      contrastText: '#fefefe'\n    },\n    info: {\n      main: '#1289A7'\n    },\n    background: {\n      default: '#fffafa'\n    }\n  },\n  typography: {\n    fontFamily: [\n      'Noto Sans JP',\n      'Lato',\n      '游ゴシック Medium',\n      '游ゴシック体',\n      'Yu Gothic Medium',\n      'YuGothic',\n      'ヒラギノ角ゴ ProN',\n      'Hiragino Kaku Gothic ProN',\n      'メイリオ',\n      'Meiryo',\n      'ＭＳ Ｐゴシック',\n      'MS PGothic',\n      'sans-serif'\n    ].join(',')\n    /* fontSize: 16,\n        h1: {\n          fontSize: '1.75rem',\n        },\n        h2: {\n          fontSize: '1.5rem',\n        },\n        h3: {\n          fontSize: '1.25rem',\n        },\n        h4: {\n          fontSize: '1.125rem',\n        },\n        h5: {\n          fontSize: '1rem',\n        },\n        h6: {\n          fontSize: '1rem',\n        }, */\n  }\n});\n","import * as React from 'react';\nimport { Box, CircularProgress } from '@material-ui/core';\nimport './main.css';\n\n/** ローディング画面 */\nexport const Loading: React.FC = () => {\n  return (\n    <Box\n      display=\"flex\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      className=\"loadBox\"\n      style={{ background: 'linear-gradient(45deg, #23d5ab,#23a6d5,#ee7752)' }}\n    >\n      <CircularProgress size={60} style={{ color: '#fff' }} />\n    </Box>\n  );\n};\n","import * as React from 'react';\r\nimport { Button, Hidden, IconButton } from '@material-ui/core';\r\nimport { Share } from '@material-ui/icons';\r\n\r\ninterface PresenterProps {\r\n  onClick: () => void;\r\n  inputRef: React.RefObject<HTMLInputElement>;\r\n  url: string;\r\n}\r\n\r\nexport const Presenter: React.FC<PresenterProps> = (props: PresenterProps) => {\r\n  return (\r\n    <React.Fragment>\r\n      <input\r\n        type=\"text\"\r\n        value={props.url}\r\n        onChange={() => {\r\n          /* valueを設定しているとonChangeを設定しないといけないので */\r\n        }}\r\n        ref={props.inputRef}\r\n        style={{ opacity: 0, height: 1, width: 1, marginLeft: -1, padding: 0, border: 'none' }}\r\n      />\r\n      <Hidden xsDown>\r\n        <Button\r\n          startIcon={<Share />}\r\n          {...{ onClick: props.onClick, disableElevation: true, variant: 'contained', color: 'secondary' }}\r\n          style={{ borderRadius: '1000px' }}\r\n        >\r\n          INVITE ROOM\r\n        </Button>\r\n      </Hidden>\r\n      <Hidden smUp>\r\n        <IconButton {...{ onClick: props.onClick, disableElevation: true, variant: 'contained', color: 'secondary' }}>\r\n          <Share />\r\n        </IconButton>\r\n      </Hidden>\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import * as React from 'react';\r\nimport { useSnackbar } from 'notistack';\r\nimport { Presenter } from './Presenter';\r\n\r\n/**\r\n * URLをクリップボードにコピーするボタン\r\n */\r\nexport const CopyRoomIdButton: React.FC = () => {\r\n  const [url] = React.useState<string>(location.href);\r\n  const urlInputRef = React.useRef<HTMLInputElement>(null);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const onClick = (): void => {\r\n    // 選択\r\n    console.log(!!urlInputRef.current);\r\n    urlInputRef.current?.select();\r\n\r\n    // クリップボードにコピー\r\n    document.execCommand('copy');\r\n    urlInputRef.current?.blur();\r\n    // 通知\r\n    enqueueSnackbar('招待URLをコピーしました。', {\r\n      variant: 'info',\r\n      anchorOrigin: { horizontal: 'center', vertical: 'top' },\r\n      autoHideDuration: 2000\r\n    });\r\n  };\r\n  return <Presenter url={url} inputRef={urlInputRef} onClick={onClick} />;\r\n};\r\n","import * as React from 'react';\nimport { AppBar, Toolbar, IconButton, Typography, Button } from '@material-ui/core';\nimport { CopyRoomIdButton } from '../CopyRoomIdButton';\nimport { ArrowLeftRounded } from '@material-ui/icons';\nimport Logo2 from '../../assets/Streaming-logo2.png';\nimport './main.css';\n\ninterface PresenterProps {\n  backClick: () => void;\n}\n\nexport const Presenter: React.FC<PresenterProps> = (props: PresenterProps) => {\n  return (\n    <div style={{ flexGrow: 1 }}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton size=\"small\" edge=\"start\" color=\"default\" aria-label=\"menu\" onClick={props.backClick}>\n            <ArrowLeftRounded fontSize=\"large\" />\n          </IconButton>\n          <h2 style={{ flexGrow: 1, display: 'flex', alignItems: 'center' }} className=\"header_logo\">\n            <img src={Logo2} width=\"25px\" height=\"25px\" style={{ marginRight: '5px' }} />\n            <span>S</span>treaming!!\n          </h2>\n          <CopyRoomIdButton />\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\n","export default \"data:image/png;base64,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lGfUeeaWYInWd6bejeJHW5YdEyzRcjkYimXHBEu0ki/ehVAsOyZYTUfLCCuezbSd2Q2C1WK0BCumK7tAsFqL1lX6mA78eCZp27IbBKu1aBldxTLLx0Y6RvZ9oxGsFqM1s7fDeJe21+nYmNoVgtVqtPyEsHyXfagOjaoEq/VouSQsV37Px+kYeO03EQRLtG5OCsoz7UdVR3aFYInWjZm9W9yoKt9Q3/F8MsESrbt/p5OiHHkB2630nkzsCsESLUqVv2nspvd21011wRKtn5vam89umKpwalcIlmhRquv3z1QFwRItSjdMVTDCFSzRWoLnuK9XDtSWqQqCJVpGWiXL78uhqQqChWiVbpiq8M6uECxEq+RRlakKgsUjRmtqjz2Jd/2oylQFwcJIq1izzlQFwUK0AshTFbZMVRAsRKtkOVCeqiBYiFbR5qcqeFaVYCFaxY+qTFUQLESr6FHVrgmggoVolW7SmaogWIhW4fJIyrJagsUzn4R527Yr7jXuLKvVnFd2QTnefD3fSC9nfay205+vPJL3jjwK3ffTPyMsyonV4CT99z1755pltRCsgmMlWjemnQmgCFbxsWo9WpbVQrCCxarVaFlWizvcdI8Rq/lodZWfxLN+VDV1lGCEFTdWLYy0hmW1xAojrApiVetIK//U71CoMMKqL1a1jbQsq4VgVR6rGqKVA2VZLQSrkVhFjZZltViZe1ixYzUfrQj3tPJUBb+ofNess+jIQl7YBeFjNW9/ndFKX1++nHu74Al56PEvuCQUq9IvD4epCmKFS0KxKvbycNaZAIoRllgFGGlZVgvBEqviozXtPFUBwRKrQqN1NfdqWS2enJ8S1hureU/208P0tY/Sy8ycKgRLrEJECwRLrEQLBKvZWIkWgiVWIYkWgiVWogWCJVaiBZ15WMs66OpakdkSYhhhVT7KOkkvtZ3kRloIlmiJFgiWaIkWgoVoiRaCJVrRTL2zJB9K++YlWKIFYUbcgiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZagiVaECZaL+2rGNIbup9eJvYEFTpJ35CPjLCMtCCSSf+NWbBEC+JHS7BEC8JES7BEC8JES7BEC8JES7BEC8JES7BEC8JES7BEC8JES7BEC8JES7DqjNZBetmwJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgzv8CDAAdJp7emNHgagAAAABJRU5ErkJggg==\"","import * as React from 'react';\nimport { useHistory } from 'react-router';\nimport { Presenter } from './Presenter';\n\nexport const Header: React.FC = () => {\n  const history = useHistory();\n\n  const backClick = () => {\n    history.push('/');\n  };\n  return <Presenter backClick={backClick} />;\n};\n","import * as React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Loading } from '../components/Loading';\nimport { PageProps } from '../App';\nimport { Header } from '../components/Header';\n\nconst Home = React.lazy(() => {\n  return Promise.all([import('../pages/Home'), new Promise((resolve) => setTimeout(resolve, 1000))]).then(\n    ([moduleExports]) => moduleExports\n  );\n});\nconst Room = React.lazy(() => {\n  return Promise.all([import('../pages/Room'), new Promise((resolve) => setTimeout(resolve, 1000))]).then(\n    ([moduleExports]) => moduleExports\n  );\n});\n\ninterface RouteBase {\n  path: string;\n  exact: boolean;\n  name: string;\n  component: React.LazyExoticComponent<React.FC<any>> | React.FC<any>;\n}\n\nconst routebases: Array<RouteBase> = [\n  { path: '/', exact: true, name: 'Home', component: Home },\n  { path: '/room', exact: true, name: 'Room', component: Room }\n];\n\nexport const Routes: React.FC<PageProps> = (props) => {\n  const makeRoute = (routebase: RouteBase) => {\n    return (\n      <Route path={routebase.path} exact={routebase.exact} key={routebase.name}>\n        {routebase.path !== '/' ? <Header /> : false}\n        <routebase.component {...props} />\n      </Route>\n    );\n  };\n\n  return (\n    <Router>\n      <React.Suspense fallback={<Loading />}>\n        <Switch>{routebases.map((routebase: RouteBase) => makeRoute(routebase))}</Switch>\n      </React.Suspense>\n    </Router>\n  );\n};\n","import React from 'react';\nimport io from 'socket.io-client';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { theme } from './config/theme';\nimport { Routes } from './config/route';\nimport { useStateWithCallbackLazy } from 'use-state-with-callback';\nimport { SnackbarProvider } from 'notistack';\n\nexport interface PageProps {\n  getSocket(): Promise<SocketIOClient.Socket>;\n  clearSocket(): void;\n}\n\nconst App: React.FC = () => {\n  const [socket, setSocket] = useStateWithCallbackLazy<SocketIOClient.Socket | null>(null);\n\n  // websocketに接続し、socket clientを返却\n  const getSocket = (): Promise<SocketIOClient.Socket> => {\n    console.log('getSocket');\n    return new Promise((resolve) => {\n      if (!socket) {\n        // 接続開始\n        const client = io.connect(process.env.REACT_APP_API_URL as string);\n        client.on('connect', () => {\n          console.log('connected');\n          // 別ページからも参照できるようにstateにセット\n          setSocket(client, function () {\n            // 接続が接続が成功した際にsocket clientを返却\n            resolve(client);\n          });\n        });\n      } else {\n        // 接続済みだった場合stateのsocket clientを返却\n        return resolve(socket);\n      }\n    });\n  };\n\n  const clearSocket = (): void => {\n    socket?.disconnect();\n    setSocket(null, () => {\n      console.log('clear socket');\n    });\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <SnackbarProvider maxSnack={1}>\n        <Routes getSocket={getSocket} clearSocket={clearSocket} />\n      </SnackbarProvider>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { setUpStore } from './store/store';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst store = setUpStore();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nexport interface RoomState {\n  roomId: string;\n  userName: string;\n  isOwner: boolean;\n}\n\nconst roomInitialState: RoomState = {\n  roomId: '',\n  userName: '',\n  isOwner: false\n};\n\n// createSliceメソッドを使ってactionsとreducersを生成\nconst socketsModule = createSlice({\n  name: 'room',\n  initialState: roomInitialState,\n  reducers: {\n    setRoom: (state, action: PayloadAction<RoomState>) => {\n      Object.assign(state, action.payload);\n    },\n    unsetRoom: (state, action: PayloadAction) => {\n      Object.assign(state, roomInitialState);\n    }\n  }\n});\n\nexport default socketsModule;\n"],"sourceRoot":""}